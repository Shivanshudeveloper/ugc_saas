{"pageProps":{"article":{"content":"\r\n# JSON Web Token (JWT)\r\n\r\nMost auth providers use this strategy under the hood to provide access tokens. Currently, the app\r\ndoesn't cover the backend service, and this service is mocked (faked) using http client\r\ninterceptors. The implementation is basic, but enough to give you a starting point.\r\n\r\n## How it was implemented\r\n\r\nSince tokens are meant to be created on the backend server, they are built with encrypt, encode and\r\ndecode utility methods because they are not meant to be used on the client. These utilities can be\r\nfound in `src/utils/jwt`. These are for development purposes only, and you must remove (or avoid\r\nusing) them.\r\n\r\n## How to use JWT Provider\r\n\r\nThe app is delivered with JWT Provider as default auth strategy. If you changed or removed it, and\r\nyou want it back, simply follow these steps:\r\n\r\n### Step 1. Import the provider\r\n\r\nOpen `src/pages/_app.js` file, import the provider and wrap the App component with it.\r\n\r\n```js\r\n// src/pages/_app.js\r\nimport { AuthConsumer, AuthProvider } from '../contexts/jwt-context';\r\n\r\nconst App = (props) => {\r\n  const { Component, pageProps } = props;\r\n    \r\n  return (\r\n    <AuthProvider>\r\n      <Component {...pageProps} />\r\n    </AuthProvider>\r\n  );\r\n};\r\n```\r\n\r\n### Step 2. Set the hook context\r\n\r\nOpen `src/hooks/use-auth.js` file and replace the current context the following line:\r\n\r\n```js\r\nimport { AuthContext } from '../contexts/jwt-context';\r\n```\r\n\r\n## How to use auth\r\n\r\n### Retrieve user profile\r\n\r\nIn the example below, you can find how it can be used in any component not just the `App`. Should\r\nyou want to use it in any other component, you'll have to import the `useAuth` hook and use it as\r\nneeded.\r\n\r\n```jsx\r\n// src/pages/index.js\r\nimport { useAuth } from '../hooks/use-auth';\r\n\r\nconst Home = () => {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <div>\r\n      Email: {user.email}\r\n    </div>\r\n  );\r\n};\r\n```\r\n\r\n### Auth methods / actions\r\n\r\n> For simplicity and space limitations, the code below is used only to exemplify, actual code can be found in the components.\r\n\r\n```jsx\r\n// src/pages/index.js\r\nimport { useAuth } from '../hooks/use-auth';\r\n\r\nconst Home = () => {\r\n  const { login } = useAuth();\r\n  \r\n  const handleLogin = () => {\r\n    // Email/username and password\r\n    login('demo@devias.io', 'Password123!');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleLogin}>\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n```\r\n\r\n## Implemented flows\r\n\r\nCurrently, the app only covers the main flows:\r\n\r\n- Register\r\n- Login\r\n- Logout\r\n","slug":"authentication-jwt","title":"JWT"}},"__N_SSG":true}